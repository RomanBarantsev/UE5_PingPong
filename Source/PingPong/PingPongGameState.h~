// Fill out your copyright notice in the Description page of Project Settings.

#pragma once

#include "CoreMinimal.h"
#include "GameFramework/GameState.h"
#include "PingPongGameState.generated.h"

DECLARE_DYNAMIC_MULTICAST_DELEGATE_TwoParams(FDelegateScore,int,Player1,int,Player2);
/**
 * 
 */
UCLASS()
class PINGPONG_API APingPongGameState : public AGameState
{
	GENERATED_BODY()
	
protected:
	UPROPERTY(EditAnywhere,Replicated)
	int ScorePlayer1;
	UPROPERTY(EditAnywhere,Replicated)
	int32 ScorePlayer2;
	APingPongGameState();
	virtual void BeginPlay() override;
public:
	UFUNCTION()
	void AddScoreToPlayer1(int Value);
	UFUNCTION()
	void AddScoreToPlayer2(int Value);	
	virtual void GetLifetimeReplicatedProps( TArray< FLifetimeProperty > & OutLifetimeProps ) const override;
	
public:
	FDelegateScore DelegateScore;
	
};
